<!DOCTYPE html>
<html ng-app="stategraemsApp">
    <head>
        <title>STATegra EMS v{{myAppConfig.VERSION}}</title>
        <!--        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet" > 
                <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400' rel='stylesheet' type='text/css'> 
                <link href="https://opensource.keycdn.com/fontawesome/4.6.3/font-awesome.min.css" rel="stylesheet"> 
        
        -->                <link rel="stylesheet" href="css/bootstrap.min.css" type='text/css'>
        <link rel="stylesheet" href="css/fonts/OpenSans-Light.ttf" type='text/css'>
        <link rel="stylesheet" href="css/font-awesome.min.css" type='text/css'>

        <link rel="stylesheet" href="css/main.css" type='text/css'>
        <link rel="stylesheet" href="css/bootstrap-dialogs.min.css">
        <link rel="stylesheet" href="css/bootstrap-tagsinput.css">
        <link rel="stylesheet" href="css/bootstrap-treeview.min.css">

        <!--        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script> 
                <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.3/jquery.min.js"></script> 
                <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script> 
                <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.18/angular-ui-router.min.js"></script> -->

        <script type="text/javascript" src="lib/angular.min.js"></script>
        <script type="text/javascript" src="lib/jquery.min.js"></script>
        <script type="text/javascript" src="lib/bootstrap.min.js"></script>
        <script type="text/javascript" src="lib/angular-ui-router.min.js"></script>

        <script type="text/javascript" src="lib/angular-backtop.min.js"></script>
        <script type="text/javascript" src="lib/ui-bootstrap-tpls-1.3.2.min.js"></script>
        <script type="text/javascript" src="lib/typeahead.bundle.js"></script>
        <script type="text/javascript" src="lib/bootstrap-tagsinput.js"></script>
        <script type="text/javascript" src="lib/bootstrap-tagsinput-angular.js"></script>
        <script type="text/javascript" src="lib/bootstrap-treeview.min.js"></script>
        <script type="text/javascript" src="lib/js.cookie.js"></script>
        <script type="text/javascript" src="lib/sigma.min.js"></script>
        <script type="text/javascript" src="lib/sigma.plugins.min.js"></script>
        <script type="text/javascript" src="lib/dagre.min.js"></script>
    </head>

    <body ng-controller="InstallController as controller">
        <div id="wrapper">
            <nav id ="header" class="navbar navbar-default navbar-fixed-top topbar-nav">
                <div class="navbar-header"></div>
                <span id="app_version">v{{myAppConfig.VERSION}}</span>
            </nav>
            <div id="sidebar-wrapper">
                <ul class="sidebar-nav">
                    <li><a class="parentOption"><i class="fa fa-cogs" aria-hidden="true"></i> EMS install</a></li>
                </ul>
            </div>
            <div id="page-content-wrapper" >
                <div class="container-fluid">
                    <form class="form-horizontal">
                        <nav class="navbar navbar-default navbar-top title-bar">
                            <h1 class="form_title">Welcome to STATegra EMS {{myAppConfig.VERSION}} installator</h1>
                            <h2 class="form_subtitle">Please fill the form below to start installing</h2>
                            <h3 class="form_subtitle">Please an option below:</h3>
                            <div class="radio">
                                <label><input type="radio" name="installation_type" ng-model="config.installation_type" value="install">I want to install a new STATegra EMS instance in my server</label>
                            </div>
                            <div class="radio">
                                <label><input type="radio" name="installation_type" ng-model="config.installation_type" value="upgrade">I want to upgrade a previous STATegra EMS installation</label>
                            </div>
                        </nav>
                        <div class="section_box row" ng-show="config.installation_type === 'install'">
                            <h2 class="section_subtitle">Database configuration</h2>
                            <p style="font-size: 16px;font-weight: lighter; color: #868686; margin-left: 5px;">
                                Please type the MYSQL user name which will be used to create the database (must have DATABASE and USER CREATION privileges)
                            </p>
                            <div class="field-group row">
                                <label class="col-sm-3" for="dbname">Database name</label>
                                <input class="col-sm-8" type="text" name="dbname"
                                       ng-model="config.dbname" 
                                       ng-required="true" >
                            </div>
                            <div class="field-group row">
                                <label class="col-sm-3" for="dbhost">Database host</label>
                                <input class="col-sm-8" type="text" name="dbhost"
                                       ng-model="config.dbhost" 
                                       ng-required="true" >
                            </div>
                            <div class="field-group row">
                                <label class="col-sm-3" for="mysqladminUser">MySQL admin name</label>
                                <input class="col-sm-8" type="text" name="mysqladminUser"
                                       ng-enable="config.installation_type === 'install'"
                                       ng-model="config.mysqladminUser" 
                                       ng-required="true" >
                            </div>
                            <div class="field-group row">
                                <label class="col-sm-3" for="mysqladminPass">MySQL admin pass</label>
                                <input class="col-sm-8" type="password" name="mysqladminPass"
                                       ng-enable="config.installation_type === 'install'"
                                       ng-model="config.mysqladminPass" 
                                       ng-required="true" >
                            </div>
                            <div class="field-group row">
                                <label class="col-sm-3" for="emsusername">EMS database user</label>
                                <input class="col-sm-8" type="text" name="emsusername"
                                       ng-enable="config.installation_type === 'install'"
                                       ng-model="config.emsusername" 
                                       ng-required="true" >
                            </div>
                            <div class="field-group row">
                                <label class="col-sm-3" for="emsuserpass">EMS database pass</label>
                                <input class="col-sm-8" type="password" name="emsuserpass"
                                       ng-enable="config.installation_type === 'install'"
                                       ng-model="config.emsuserpass"
                                       ng-minlength="6"
                                       ng-required="true" >
                            </div>
                        </div>
                        <div class="section_box row">
                            <h2 class="section_subtitle">EMS configuration</h2>
                            <p style="font-size: 16px;font-weight: lighter; color: #868686; margin-left: 5px;">
                                The STATegra EMS ships with an administrator user <i>admin</i>.</br>Please type the password for the administrator user.
                            </p>
                            <div class="field-group row">
                                <label class="col-sm-3" for="emsadminpass">Admin email</label>
                                <input class="col-sm-8" type="email" name="emsadminuser"
                                       ng-model="config.emsadminuser" 
                                       ng-required="true" >
                            </div>
                            <div class="field-group row">
                                <label class="col-sm-3" for="emsadminpass">Admin pass</label>
                                <input class="col-sm-8" type="password" name="emsadminpass"
                                       ng-model="config.emsadminpass" 
                                       ng-required="true" >
                            </div>
                            <p style="font-size: 16px;font-weight: lighter; color: #868686; margin-left: 5px;">
                                The STATegra EMS stores some files and images so it is necessary to specify the location for those files.</br>
                                Please type the directory for files storage.</br>
                                Note:<b>do not forget</b> allow read/write to Tomcat user in this location.
                            </p>
                            <div class="field-group row">
                                <label class="col-sm-3" for="data_location">Data Location</label>
                                <input class="col-sm-8" type="text" name="data_location"
                                       ng-model="config.data_location" 
                                       ng-required="true" >
                            </div>
                        </div>
                        <nav class="navbar navbar-default navbar-fixed-bottom progressNavigator" >
                            <div class="container">
                                <a class="btn btn-success btn-md navbar-right" ng-show="viewMode !== 'view'"  ng-click="controller.sendInstallDataHandler()" >
                                    <i class="fa fa-check fa-fw" ></i> Accept
                                </a>
                            </div>
                        </nav>
                    </form>
                </div>
            </div>
        </div><!-- /#wrapper -->
        <script type="text/javascript" src="app/install_app.js"></script>
        <script type="text/javascript" src="common/resources/common.js"></script>
        <script type="text/javascript" src="common/resources/dialogs.js"></script>
    </body>
</html>
