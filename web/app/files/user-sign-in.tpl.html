<div ng-controller="UserSessionController as controller" ng-init="isLogin = true;">
    <form name="signForm" class="form-signin" novalidate ng-submit="controller.signFormSubmitHandler()">
        <h1 class="form_title" style="text-align: center;">{{(isLogin)?"Welcome to STATegra EMS":"Create your STATegra EMS account"}}</h1>
        <h2 class="form_subtitle"  style="text-align: center; margin-bottom: 40px;">Please login to start working</h2>
        <input name="email" type="text" class="form-control" ng-model="userInfo.email" placeholder="Your email" required="" autofocus="" />
        <span>
            <span class="text-danger" ng-show="signForm.email.$error.required">Required!</span>
            <span class="text-danger" ng-show="signForm.email.$error.email">Not valid email!</span>
        </span>

        <input name="user_id" type="text" class="form-control" placeholder="Your name" required="" style="margin-top: 10px;"
               ng-model="userInfo.user_id"
               ng-if="!isLogin"
               ng-pattern="/^[a-z0-9\-]+$/"
               />
        <span ng-if="!isLogin">
            <span class="text-danger" ng-show="signForm.username.$error.required">Required!</span>
            <span class="text-danger" ng-show="signForm.username.$error.pattern">Public name must contain only lower-case letters, numbers and '-'</span>
        </span>
        <input name="password" type="password" id="mainPass" class="form-control" placeholder="Password" style="margin-bottom: 0; margin-top: 20px;" required=""
               ng-model="userInfo.password"
               ng-minlength="6"
               />
        <span ng-if="!isLogin">
            <span class="text-danger" ng-show="signForm.password.$error.required">Required!</span>
            <span class="text-danger" ng-show="signForm.password.$error.minlength">Password must be at least 6 characters.</span>
        </span>

        <input name="passconfirm" type="password" class="form-control" placeholder="Repeat the password" style="margin-bottom: 0; margin-top: 10px;" required=""
               ng-model="userInfo.passconfirm"
               ng-init=""
               ng-minlength="6"
               ng-minlength="50"
               ng-if="!isLogin"
               ng-pwcheck="mainPass"
               />
        <span ng-if="!isLogin">
            <span class="text-danger" ng-show="signForm.passconfirm.$error.pwmatch">Passwords are different.</span>
        </span>
        <div style="margin-top: 30px;">
            <a href="javascript:void(0);" class="text-info" ng-show="isLogin" ng-click="isLogin = false">Create an account</a>
            <a href="javascript:void(0);" class="text-danger" ng-show="!isLogin" ng-click="isLogin = true">Cancel</a>
            <button type="submit" class="btn btn-success btn-lg navbar-right" ng-disabled="signForm.$invalid">
                <i class="fa fa-bolt fa-fw" ></i> Sign {{(isLogin)?"in":"up"}}
            </button>
        </div>
    </form>
</div>
